## 初识Flink



#### Flink的起源和设计概念

- Flink是Apache基金会旗下的一个开源大数据处理框架。
- 起源于一个叫做Stratosphere的项目

- 官网：https://flink.apache.org/
- 核心目标：数据流上的有状态计算（Stateful Computations over Data Streams）

- 具体定位是一个框架和分布式处理引擎，如下图所示，用于对误解和游街数据流进行有状态计算。Flink被设计在所有常见的集群环境中运行，以内存执行速度和任意规模来执行计算。

![Flink框架处理流程](https://youcai922.github.io/99.src/img/Flink框架处理流程.png)



#### Flink的应用

- 企业中的应用：

  对于数据处理而言，任何行业、任何公司的需求其实都是一样的：数据规模大、实时性要求高、确保结果准确、方便扩展、故障后可恢复——而这些要求，作为新一代大数据流式处理引擎的Flink统统可以满足！这也正是Flink在全世界范围得到广泛应用的原因。

  - 电商和市场营销：实时数据报表、广告投放、实施推荐
  - 物联网（IOT）：传感器试试数据采集和显示、实时报警、交通运输业
  - 物流配送和服务业：订单状态实时更新、通知消息推送
  - 银行业金融业：实时结算和通知推送、实时检测异常行为



## 流式数据处理的发展和演变

#### 批处理和流处理

- 对于具体的应用来说，有些场景数据时一个一个来的，是一组有序的数据序列，我们把它叫做“数据流”；而有些场景的数据，本身就是一批同时到来，是一个有限的数据集，这就是批量数据（有时也直接叫数据集）
- 处理数据流，来一个处理一个，这种数据处理模式叫做流式处理，因为这种处理是即时的，所以也叫实时处理。与之对应，处理批量数据自然叫做批处理，也叫离线计算
- 对于流式数据，用流处理是最好的、也是最合理的。但是流处理需要时刻关注是否有新数据，会大大消耗性能。所以隔一段时间去批量处理数据，压力就会小很多



## Flink的特性总结

#### Flink的核心特征

- 高吞吐和低延迟。每秒处理数百万个事件，毫秒级延迟。
- 结果的准确性。Flink提供了事件时间（event-time）和处理时间（processing-time）语义。对于乱序事件流，事件时间语义仍然能提供一致且准确的结果。
- 精确一次（exactly-once）的状态一致性保证。
- 可以连接到最常用的存储系统，如Apache Kafka、Apache Cassandra、Elasticsearch、JDBC、Kinesis和（分布式）文件系统，如HDFS和S3。
- 高可用。本身高可用的设置，加上与K8s，YARN和Mesos的紧密集成，再加上从故障中快速恢复和动态扩展任务的能力，Flink能做到以极少的停机时间7×24全天候运行。
- 能够更新应用程序代码并将作业（jobs）迁移到不同的Flink集群，而不会丢失应用程序的状态。



#### 分层API