# List类

#### ArrayList和LinkedList区别

- ArrayList底层数组，插入删除慢，查找快；ArrayList主要控件开销在于需要在lList列表预留一定空间；
- LinkedList底层链表（双向链表），查找慢，插入删除快；LinkList主要控件开销在于需要存储结点信息以及结点指针信息。
- LinkedList和ArrayList都实现了List接口，但是LinkedList额外实现了Deque接口，可以当作队列使用

#### CopyOnWriteArrayList的底层原理是怎样的



# Map类

#### HashMap扩容机制

1.7版本

- 先生成数组
- 遍历老数组每个位置上链表的每个元素
- 去每个元素的key，并基于新数组长度，计算每个元素在新数组中的下标
- 将元素添加到新数组中去
- 所有元素转移完毕之后，将新数组赋值给HashMap对象的table属性

1.8版本

- 先生成新数组
- 遍历老数组中每个位置上的链表和红黑树
- 如果是链表，则直接将链表中每个元素重新计算下标，并添加到新数组中去
- 如果是红黑树，则先遍历红黑树，先计算出红黑树中每个元素对应在数组中的下标位置
  - 统计每个下标位置的元素个数
  - 如果该位置下的元素个数超过了8，则生成一个新的红黑树，并将根节点的添加到新数组的对应位置
  - 如果该位置下的元素个数没有超过8，那么则生成一个链表，并将链表的头节点添加到新数组的对应位置
- 所有元素转移完了之后，将新数组赋值给HashMap对象的table属性

#### hashmap是线程安全的吗

​	线程不安全，不安全的情况主要是resize()扩容方法导致的。

